<link rel="import" href="./components/user-panel.html">


<link rel="import" href="./components/user-detail.html">
<link rel="import" href="./components/user-fund.html">

<link rel="import" href="./../components/page-style.html">

<dom-module id="page-user-welfare">
    <style include="page-style">
         :host {
            display: block;
        }
        
        * {
            font-family: 'CSChatThaiUI', sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        
        .header {
            padding: 10px;
            font-size: 35px;
        }
        
        .container {
            padding: 20px;
        }
    </style>
    <template>
        <!--<user-welfare></user-welfare>-->
        <div class="xcontainer">
            <div class="header container">
                จัดการข้อมูลส่วนตัว
            </div>
            <user-detail></user-detail>
        </div>

        <panel-right id="test" title="{{title}}">
            <user-panel class="sub-component" data="[[dataSelete]]"></user-panel>
        </panel-right>
        [[setYear(year)]]
    </template>
    <script>
        Polymer({
            is: 'page-user-welfare',
            behaviors: [
                ReduxBehavior, nylonBehavior, commonDataAction, usersAction, userWelfareAction, uploadAction, fundRvdAction
            ],
            properties: {
                page: {
                    type: Number,
                    value: 0
                },
                title: {
                    type: String,
                    value: 'แก้ไขข้อมูล'
                },
            },
            listeners: {
                '_get-user-edit': '_getUserEdit',
                // '_close-panel':'btn_closePanelRight'
            },
            nylonPageActive() {
                // this.dispatchAction('COMMONDATA_LIST');
                // // this.dispatchAction('USERS_LIST');
                // this.dispatchAction('COMMONDATA_DATA_ACADEMIC');
                // this.dispatchAction('COMMONDATA_DATA_ACTIVE');
                // this.dispatchAction('COMMONDATA_DATA_DEPARTMENT');
                // // this.dispatchAction('COMMONDATA_DATA_EMPLOYEE');
                // this.dispatchAction('COMMONDATA_DATA_FACULTY');
                this.dispatchAction('COMMONDATA_DATA_GENDER');
                // this.dispatchAction('COMMONDATA_DATA_MATIER');
                // this.dispatchAction('COMMONDATA_DATA_POSITION');
                this.dispatchAction('COMMONDATA_DATA_PREFIXNAME');
                // this.dispatchAction('COMMONDATA_DATA_RELATION');
                // this.dispatchAction('COMMONDATA_DATA_TYPE_EMPLOYEE');


                this.dispatchAction('WELFARE_LIST_YEAR');
            },
            // setYear(year){
            //     try {
            //         // this.set('seleterYear',year[year.length-1].year)
            //     //   this.dispatchAction('USER_GET_WELFARES','411e54dd-b808-4d4d-9984-201b68c70dff',true,year[year.length-1].year-543);
            //     } catch (error) {

            //     }
            // },
            _getUserEdit(e) {
                // this.set('page',0)
                this.dispatchAction('USER_SELECT', e.detail);
                this.dispatchAction('USER_BTN', true);
                this.dispatchAction('USER_INSERT_VIEW', false);
                this.$$('panel-right').open();
            },
        });
    </script>
</dom-module>