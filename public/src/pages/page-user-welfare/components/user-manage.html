<link rel="import" href="../../components/page-style.html">
<link rel="import" href="../../../../bower_components/gl-form/gl-form-input.html">
<link rel="import" href="../../../../bower_components/gl-form/gl-combo-box.html">
<link rel="import" href="../../../../bower_components/vaadin-date-picker/vaadin-date-picker.html">

<link rel="import" href="../../components/nylon-date-picker/nylon-date-picker.html">

<link rel="import" href="../../components/nylon-date-picker/nylon-date-picker.html">


<dom-module id="user-manage">
    <style include="page-style iron-flex iron-flex-factors iron-flex-alignment">
        fieldset {
            margin: 15px 5px;
        }

        gl-form-input,
        gl-combo-box,
        vaadin-date-picker {
            width: 90%;
        }

        vaadin-date-picker {
            margin-top: -19px;
        }
    </style>
    <template>
        <div class="container layout vertical ">
            <fieldset>
                <legend>{{localize('data')}}{{localize('private')}} :</legend>
                <div class="from layout horizontal">
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="personal_id">{{localize('personal_id')}} :</label>
                        </div>
                        <div class="flex-2">
                            <gl-form-input id="p_id" no-label-float value="{{data.personal_id}}" disabled="[[disabled]]" class="required" required></gl-form-input>

                        </div>
                    </div>
                    <div class="flex layout horizontal">
                    </div>
                </div>
                <div class="from layout horizontal">
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="prefixname">{{localize('prefixname')}} :</label>
                        </div>
                        <div class="flex-2">
                            <gl-combo-box id="relation" no-label-float items="{{prefixname}}" value="{{data.prefix_id}}" item-label-path="prefix_name"
                                item-value-path="id" disabled="[[disabled]]" class="required" required></gl-combo-box>

                        </div>
                    </div>
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="gender">{{localize('gender')}} :</label>
                        </div>
                        <div class="flex-2">
                            <gl-combo-box id="relation" no-label-float items="{{gender}}" value="{{data.gender_id}}" item-label-path="gender_name" item-value-path="id"
                                disabled="[[disabled]]" class="required" required></gl-combo-box>
                        </div>
                    </div>
                </div>
                <div class="from layout horizontal">
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="name">{{localize('firstname')}} :</label>
                        </div>
                        <div class="flex-2">
                            <gl-form-input id="emp_id" no-label-float value="{{data.firstname}}" disabled="[[disabled]]" class="required" required></gl-form-input>

                        </div>
                    </div>
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="name">{{localize('lastname')}} :</label>
                        </div>
                        <div class="flex-2">
                            <gl-form-input id="emp_id" no-label-float value="{{data.lastname}}" disabled="[[disabled]]" class="required" required></gl-form-input>

                        </div>
                    </div>
                </div>
                <div class="from layout horizontal">
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="birthdate">{{localize('email')}} :</label>
                        </div>
                        <div class="flex-2">
                            <gl-form-input id="hospital" no-label-float value="{{data.email}}" disabled="[[disabled]]"></gl-form-input>
                        </div>
                    </div>
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="hospital">{{localize('tel')}} :</label>
                        </div>
                        <div class="flex-2">
                            <gl-form-input id="hospital" no-label-float value="{{data.tel}}" disabled="[[disabled]]"></gl-form-input>
                        </div>
                    </div>
                </div>
                <div class="from layout horizontal">
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="birthdate">{{localize('birthdate')}} :</label>
                        </div>
                        <div class="flex-2">
                            <nylon-date-picker id="hospital" no-label-float selected="{{data.birthdate}}" show-bc disabled="[[disabled]]" class="required"
                                required></nylon-date-picker>
                            <!-- <gl-form-input id="hospital" type="date" no-label-float value="{{data.birthdate}}" disabled="[[disabled]]" class="required"
                                required></gl-form-input> -->
                            <!--<vaadin-date-picker style="width:200px;" id="birthdate" always-float-label value="{{data.birthdate}}" disabled="[[disabled]]"
                                ></vaadin-date-picker>-->
                        </div>
                    </div>
                    <div class="flex layout horizontal">
                        <!--<div class="flex label">
                            <label for="hospital">{{localize('hospital')}}  :</label>
                        </div>
                        <div class="flex-2">
                            <gl-form-input id="hospital" no-label-float value="{{data.hospital}}" disabled="[[disabled]]"></gl-form-input>
                        </div>-->
                    </div>
                </div>
                <!--<div class="from layout horizontal end-justified">
                    * {{localize('follow')}}{{localize('in')}}{{localize('card')}}{{localize('social_security')}}
                </div>-->
            </fieldset>
            <fieldset>
                <legend>{{localize('data')}}{{localize('employee')}} :</legend>
                <div class="from layout horizontal">
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="emp_no">{{localize('code')}}{{localize('employee')}} :</label>
                        </div>
                        <div class="flex-2 label">
                            {{data.emp_no}}
                        </div>
                    </div>
                    <div class="flex layout horizontal">
                        <!--<div class="flex label">
                                <label for="start_work_date">{{localize('start_work_date')}} :</label>
                            </div>
                            <div class="flex-2">
                                <vaadin-date-picker always-float-label value="{{data.start_work_date}}" disabled="[[disabled]]" class="checkValidate" required></vaadin-date-picker>
                            </div>-->
                    </div>
                </div>
                <div class="from layout horizontal">
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="start_work_date">{{localize('start_work_date')}} :</label>
                        </div>
                        <div class="flex-2">
                            <nylon-date-picker id="hospital" no-label-float selected="{{data.start_work_date}}" show-bc disabled="[[disabled]]" class="required"
                                required></nylon-date-picker>
                            <!-- <gl-form-input id="hospital" type="date" no-label-float value="{{data.start_work_date}}" disabled="[[disabled]]" class="required" -->
                            <!-- required></gl-form-input> -->
                            <!--<vaadin-date-picker always-float-label value="{{data.start_work_date}}" disabled></vaadin-date-picker>-->
                        </div>
                    </div>
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="end_work_date">{{localize('end_work_date')}} :</label>
                        </div>
                        <div class="flex-2">
                            <nylon-date-picker id="hospital" no-label-float selected="{{data.end_work_date}}" show-bc disabled="[[disabled]]"></nylon-date-picker>
                            <!-- <gl-form-input style="width: 170px;" 
                            id="hospital" type="date" no-label-float value="{{data.end_work_date}}" disabled="[[disabled]]"></gl-form-input> -->
                            <!--<vaadin-date-picker id="end_work_date" always-float-label value="{{data.end_work_date}}" disabled></vaadin-date-picker>-->
                        </div>
                    </div>
                </div>
                <div class="from layout horizontal">

                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="active_id">{{localize('active')}} :</label>
                        </div>
                        <div class="flex-2 label">
                            {{data.active_name}}
                        </div>
                    </div>
                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="type_emp_name">{{localize('category')}}{{localize('employee')}} :</label>
                        </div>
                        <div class="flex-2 label">
                            {{data.type_employee_name}}
                        </div>
                    </div>

                </div>
                <div class="from layout horizontal">

                    <div class="flex layout horizontal">
                        <div class="flex label">
                            <label for="position">{{localize('position')}} :</label>
                        </div>
                        <div class="flex-2 label">
                            {{data.position_name}}
                        </div>
                    </div>
                    <div class="flex layout horizontal">
                        <div class="flex layout horizontal">
                            <div class="flex label">
                                <label for="academic">{{localize('academic')}} :</label>
                            </div>
                            <div class="flex-2 label">
                                {{data.academic_name}}
                            </div>
                        </div>

                    </div>

                </div>
                <div class="from layout horizontal">
                    <div class="flex label">
                        <label for="matier_id">{{localize('matier')}} :</label>
                    </div>
                    <div class="flex-2 label">
                        {{data.matier_name}}
                    </div>
                    <div class="flex-3 label">
                        </div>
                    <!--<div class="flex layout horizontal">
                    </div>-->
                </div>
                <div class="from layout horizontal">
                    <div class="flex label">
                        <label for="faculty">{{localize('faculty')}} :</label>
                    </div>
                    <div class="flex-5 label">
                        {{data.faculty_name}}
                    </div>
                </div>
                <div class="from layout horizontal">
                    <div class="flex label">
                        <label for="department">{{localize('department')}} :</label>
                    </div>
                    <div class="flex-5 label">
                        {{data.department_name}}
                    </div>
                </div>

            </fieldset>



        </div>

    </template>
    <script>
        Polymer({
            is: 'user-manage',
            behaviors: [ReduxBehavior, ValidateFormBehavior, nylonLocalizeBehavior],
            created: function () {
                this.nylonLocalizeImport('/i18n-page1.json');
            },
            properties: {
                data: {
                    statePath: 'users.select_welefares',
                    // observer:'checkdd',
                    notify: true,

                },
                // year: {
                //     statePath: 'userWelfare.list',
                //     type: Number,
                // },
                // academic:{
                //     statePath:'commonData.academic'
                // },
                // active:{
                //     statePath:'commonData.active'
                // },
                // department:{
                //     statePath:'commonData.department'
                // },
                // employee:{
                //     statePath:'commonData.employee'
                // },
                // faculty:{
                //     statePath:'commonData.faculty'
                // },
                gender: {
                    statePath: 'commonData.gender'
                },
                // matier:{
                //     statePath:'commonData.matier'
                // },
                // position:{
                //     statePath:'commonData.position'
                // },
                prefixname: {
                    statePath: 'commonData.prefixname'
                },
                // relation:{
                //     statePath:'commonData.relation'
                // },
                // type_employee:{
                //     statePath:'commonData.type_employee'
                // }
            },
            observers: [
                'setGender(data.gender_id)',
                'setPrefixname(data.prefix_id)',
            ],
            checkdd(data) {
                //console.log(data);
            },
            setGender(gender_id) {
                try {
                    //console.log(gender_id);
                    const getName = (arrays, id) => arrays.find((wel) => wel.id === id)
                    this.data.gender_name = getName(this.gender, this.data.gender_id).gender_name
                } catch (e) {

                }

            },
            setPrefixname(prefix_id) {
                try {
                    const getName = (arrays, id) => arrays.find((wel) => wel.id === id)
                    this.data.prefix_name = getName(this.prefixname, this.data.prefix_id).prefix_name
                } catch (e) {

                }

            }
            // const getName = (arrays, id) => arrays.find((wel) => wel.id === id)
            //     if (check == true) {

            //     this.data.academic_name = getName(this.academic, this.data.academic_id).academic_name
            //     this.data.active_name = getName(this.active, this.data.active_id).active_name
            //     this.data.gender_name = getName(this.gender, this.data.gender_id).gender_name
            //     this.data.matier_name = getName(this.matier, this.data.matier_id).matier_name
            //     this.data.position_name = getName(this.position, this.data.position_id).position_name
            //     this.data.prefix_name = getName(this.prefixname, this.data.prefix_id).prefix_name
            // _checkFaculty(dataSelete){
            //     // //console.log(dataSelete)
            //     if(dataSelete){
            //     let departmentID = this.department.find((departmentID)=>departmentID.id == dataSelete);
            //     // //console.log(departmentID)
            //       let faculty_code = this.faculty.find((facultyID)=>facultyID.faculty_code == departmentID.faculty);
            //     //  //console.log(faculty_code)
            //       this.set('data.faculty_id',faculty_code.id)
            //     //   //console.log(this.data.faculty_id)
            //     } 
            // },

        });
    </script>
</dom-module>