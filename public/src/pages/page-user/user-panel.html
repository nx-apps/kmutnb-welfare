
<link rel="import" href="./user-manage.html">
<dom-module id="user-panel">
    <style include="iron-flex iron-flex-factors iron-flex-alignment gl-styles">
            .btn{
                margin-bottom: 30px;
                margin-right: 30px;
            }
        </style>
    <template>
        <!--user-panel dsfgdfds-->
       <!--// [[data.name]]//-->
        <user-manage data="{{data}}" ></user-manage>
            <div class="horizontal end-justified layout btn">
                <paper-button class="gl-btn-danger" on-tap="deleteData" raised>ลบ</paper-button>
                 <paper-button class="gl-btn-success" on-tap="saveData" raised>บันทึก</paper-button>
                <paper-button class="gl-btn-primary" on-tap="insertata" raised>เพิ่ม</paper-button>
            </div>
    </template>
    <script>
        Polymer({
            is: 'user-panel',
            behaviors:[ReduxBehavior],
            properties:{
                data:{
                    statePath:'users.select'
                },
            },
            insertata(){
                let data = this.data;
                data.start_work_date = new Date (data.start_work_date).toISOString();
                this.dispatchAction('USER_INSERT',data);
            },
            saveData(){
                this.dispatchAction('USER_EDIT',this.data);
            },
            deleteData(){
                this.dispatchAction('USER_DELETED',this.data.id);
               
            }
        });
    </script>
</dom-module>
