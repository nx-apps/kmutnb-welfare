
<dom-module id="user-manage">
    <style include="iron-flex iron-flex-factors iron-flex-alignment">
            div.label {
                text-align :right;
                padding-top: 9px;
                padding-right: 15px;
                padding-top: 17px;
            }
            gl-form-input,
            gl-combo-box,
            vaadin-date-picker {
                width: 60%;
            }
        </style>
    <template>
        <div class="container layout vertical ">
            
            <div class="from layout horizontal">
                <div class="label flex">คำนำหน้าชื่อ</div>
                <div class="input flex-2">
                    <gl-combo-box  no-label-float items="{{dataSelete.prefixname}}" value="{{data.prefixname_id}}" 
                                item-label-path="prefixname" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">ชื่อ</div>
                <div class="input flex-2">
                    <gl-form-input no-label-float value="{{data.name}}" disabled="[[disable]]"></gl-form-input>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">นามสกุล</div>
                <div class="input flex-2">
                    <gl-form-input no-label-float value="{{data.surname}}" disabled="[[disable]]"></gl-form-input>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">เพศ</div>
                <div class="input flex-2">
                    <gl-combo-box no-label-float items="{{dataSelete.gender}}" value="{{data.gender_id}}" 
                                item-label-path="gender_name" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">วันที่เริ่มทำงาน</div>
                <div class="input flex-2">
                    <vaadin-date-picker always-float-label  value="{{data.start_work_date}}"></vaadin-date-picker>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">ประเภทลูกจ้าง</div>
                <div class="input flex-2">
                   <gl-combo-box no-label-float items="{{dataSelete.type_employee}}" value="{{data.type_employee_id}}" 
                                item-label-path="type_emp_name" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">สถานณะการทำงานปัจจุบัน</div>
                <div class="input flex-2">
                    <gl-combo-box no-label-float items="{{dataSelete.active}}" value="{{data.active_id}}" 
                                item-label-path="active_name" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">ตำแหน่ง</div>
                <div class="input flex-2">
                    <gl-combo-box no-label-float items="{{dataSelete.position}}" value="{{data.position_id}}" 
                                item-label-path="position_name" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">ระดับทางวิชาการ</div>
                <div class="input flex-2">
                    <gl-combo-box no-label-float items="{{dataSelete.matier}}" value="{{data.matier_id}}" 
                                item-label-path="matier_name" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">ตำแหน่งทางวิชาการ</div>
                <div class="input flex-2">
                    <gl-combo-box no-label-float items="{{dataSelete.academic}}" value="{{data.academic_id}}" 
                                item-label-path="academic_name" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            
            <div class="from layout horizontal">
                <div class="label flex">แผนก</div>
                <div class="input flex-2">[[_checkFaculty(data.department_id)]]
                    <gl-combo-box no-label-float items="{{dataSelete.department}}" value="{{data.department_id}}" 
                                item-label-path="department_name" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">คณะ</div>
                <div class="input flex-2">
                    <gl-combo-box no-label-float items="{{dataSelete.faculty}}" value="{{data.faculty_id}}" 
                                item-label-path="faculty_name" item-value-path="id" disabled></gl-combo-box>
                </div>
            </div>
            <div class="from layout horizontal">
                <div class="label flex">ความสัมพัธ์</div>
                <div class="input flex-2">
                   <gl-combo-box no-label-float items="{{dataSelete.relation}}" value="{{data.relation_id}}" 
                                item-label-path="relation_name" item-value-path="id" ></gl-combo-box>
                </div>
            </div>
            
            
        </div>
        
    </template>
    <script>
        Polymer({
            is: 'user-manage',
            behaviors: [
                g2gModelBehavior,
            ],
            properties:{
                dataSelete:{
                    type:Object,
                    value:{}
                },
                data:{
                    type:Object,
                    value:{},
                    notify:true
                },
                test:{
                    type:Object,
                    value:{name:'000'}
                }
            },
            ready(){
                this.read('./common/academic',(data)=>{
                    this.set('dataSelete.academic',data)
                });
                this.read('./common/active',(data)=>{
                    this.set('dataSelete.active',data)
                });
                this.read('./common/department',(data)=>{
                    this.set('dataSelete.department',data)
                });
                this.read('./common/employee',(data)=>{
                    this.set('dataSelete.employee',data)
                });
                this.read('./common/faculty',(data)=>{
                    this.set('dataSelete.faculty',data)
                });
                this.read('./common/gender',(data)=>{
                    this.set('dataSelete.gender',data)
                });
                this.read('./common/matier',(data)=>{
                    this.set('dataSelete.matier',data)
                });
                this.read('./common/position',(data)=>{
                    this.set('dataSelete.position',data)
                });
                this.read('./common/prefixname',(data)=>{
                    this.set('dataSelete.prefixname',data)
                });
                this.read('./common/relation',(data)=>{
                    this.set('dataSelete.relation',data)
                });
                this.read('./common/type_employee',(data)=>{
                    this.set('dataSelete.type_employee',data)
                    // console.log(this.dataSelete)
                });
            },
            _checkFaculty(dataSelete){
                // console.log(dataSelete)
                if(dataSelete){
                let departmentID = this.dataSelete.department.find((departmentID)=>departmentID.id == dataSelete);
                // console.log(departmentID.faculty_id)
                  let faculty_id = this.dataSelete.faculty.find((facultyID)=>facultyID.id == departmentID.faculty_id);
                //  console.log(faculty_id)
                  this.set('data.faculty_id',faculty_id.id)
                }
                
            }
        });
    </script>
</dom-module>

