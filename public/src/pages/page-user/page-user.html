
<link rel="import" href="./../page-list-user/user-welfare.html">

<link rel="import" href="./../page-list-user/user-panel.html">

<dom-module id="page-user">
    <style>
            :host {
                display: block;
            }
        </style>
    <template>
        
       <user-welfare></user-welfare>
       <panel-right id="test" title="{{title}}" >
         <user-panel class="sub-component" data="[[dataSelete]]"></user-panel>

         
      </panel-right>
    </template>
    <script>
        Polymer({
            is: 'page-user',
            behaviors: [
                ReduxBehavior,nylonBehavior,commonDataAction,usersAction
            ],
            properties:{
                page:{
                    type:Number,
                    value:0
                },
                title:{
                    type:String,
                    value:'แก้ไขข้อมูล'
                }
            },
            listeners: {
                '_get-user-edit': '_getUserEdit',
                // '_close-panel':'btn_closePanelRight'
            },
            nylonPageActive(){
                this.dispatchAction('COMMONDATA_LIST');
                // this.dispatchAction('USERS_LIST');
                this.dispatchAction('COMMONDATA_DATA_ACADEMIC');
                this.dispatchAction('COMMONDATA_DATA_ACTIVE');
                this.dispatchAction('COMMONDATA_DATA_DEPARTMENT');
                this.dispatchAction('COMMONDATA_DATA_EMPLOYEE');
                this.dispatchAction('COMMONDATA_DATA_FACULTY');
                this.dispatchAction('COMMONDATA_DATA_GENDER');
                this.dispatchAction('COMMONDATA_DATA_MATIER');
                this.dispatchAction('COMMONDATA_DATA_POSITION');
                this.dispatchAction('COMMONDATA_DATA_PREFIXNAME');
                this.dispatchAction('COMMONDATA_DATA_RELATION');
                this.dispatchAction('COMMONDATA_DATA_TYPE_EMPLOYEE');

                this.dispatchAction('USER_GET_WELFARES','d4cf87fa-f309-4d2a-9759-c1ce0f4fc2b5',true);
            },
            _getUserEdit(e){
                // this.set('page',0)
                this.dispatchAction('USER_SELECT',e.detail);
                this.dispatchAction('USER_BTN',true);
                this.dispatchAction('USER_INSERT_VIEW',false);
                this.$$('panel-right').open();
            },
        });
    </script>
</dom-module>
